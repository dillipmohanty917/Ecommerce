{% if invoice %}
<form method="post" id="invoice_form_id"  enctype="multipart/form-data"
                action="{% url 'dist-update-invoice-details' invoice.order_id %}">
                {% csrf_token %}
<div id="info-header-modal" class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="info-header-modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-info p-2">
                <h4 class="modal-title text-light"
                    id="info-header-modalLabel">Update Invoice Details</h4>
                <button type="button" class="btn-close btn-close-white"
                    data-bs-dismiss="modal" aria-hidden="true"></button>
            </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12 mb-2">
                            <label class="form-label"
                                for="invoice_no">Invoice No</label>
                            <input type="text" class="form-control"
                                id="invoice_no" name="invoice_number"
                                value="{{invoice.invoice_number}}" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-2">
                            <label class="form-label" for="gross_amount">Gross Amount</label>
                            <input type="text" class="form-control" id="gross_amount" name="gross_amount" placeholder="Gross Amount"
                                value="{{ invoice.gross_amount }}" required pattern="[0-9]+(\.[0-9]+)?" 
                                oninput="setCustomValidity('')" oninvalid="setCustomValidity('Please enter a positive numeric value for Gross Amount.')">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-2">
                            <label class="form-label" for="discount_amount">Discount Amount</label>
                            <input type="text" class="form-control" id="discount_amount" name="discount_amount"
                                placeholder="Discount Amount" value="{{ invoice.discount_amount }}" required pattern="[0-9]+(\.[0-9]+)?" 
                                oninput="setCustomValidity('')" oninvalid="setCustomValidity('Please enter a positive numeric value for Discount Amount.')">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-2">
                            <label class="form-label" for="gst_amount">Gst Amount</label>
                            <input type="text" class="form-control" id="gst_amount" placeholder="Gst Amount" name="gst_amount"
                                value="{{ invoice.gst_amount }}" required pattern="[0-9]+(\.[0-9]+)?" 
                                oninput="setCustomValidity('')" oninvalid="setCustomValidity('Please enter a positive numeric value for Gst Amount.')">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12 mb-2">
                            <label class="form-label" for="invoice_amount">Invoice Amount</label>
                            <input type="text" class="form-control" id="invoice_amount" name="invoice_amount"
                                placeholder="Invoice Amount" value="{{ invoice.invoice_amount }}" required pattern="[0-9]+(\.[0-9]+)?" 
                                oninput="setCustomValidity('')" oninvalid="setCustomValidity('Please enter a positive numeric value for Invoice Amount.')">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12 mb-2">
                            <label class="form-label">Invoice</label>
                            <input class="form-control" type="file"
                                id="invoice_file" value="{{invoice.invoice_file}}"  name="invoice_file" required>
                            <div class="valid-feedback" id="invoice_alertContainer">
                                Looks good!
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light"
                        data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" id="upload_invoice_submit_btn" class="btn btn-info">Save&nbsp;<span id="invoice_spinner" class="spinner-border spinner-border-sm" role="status" style="display: none;" aria-hidden="true"></span></button>
                </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
</form>
{% endif %}